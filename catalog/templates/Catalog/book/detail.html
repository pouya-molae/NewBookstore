{% extends 'base.html' %}

{% block title %}{{ book.title }}{% endblock %}

{% block content %}
<div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100">
    <div class="md:flex">
        <div class="md:w-1/3 bg-gray-50 flex items-center justify-center p-8">
            {% if book.image %}
                <img src="{{ book.image.url }}" alt="{{ book.title }}" class="rounded-2xl shadow-2xl max-h-[400px] object-cover transition-transform hover:scale-105 duration-300">
            {% else %}
                <div class="text-gray-400 text-center">
                    <i class="fa fa-book text-6xl mb-2"></i>
                    <p>تصویری موجود نیست</p>
                </div>
            {% endif %}
        </div>

        <div class="md:w-2/3 p-8 md:p-12">
            <div class="mb-6">
                <nav class="text-sm text-gray-500 mb-4">
                    <a href="{% url 'catalog:book_list' %}" class="hover:text-indigo-600">فروشگاه</a> /
                    <span class="text-gray-900">{{ book.title }}</span>
                </nav>
                <h1 class="text-4xl font-bold text-gray-900 mb-2">{{ book.title }}</h1>
                <p class="text-xl text-indigo-600 font-medium italic">{{ book.author }}</p>
            </div>

            <div class="flex items-center gap-4 mb-8">
                <span class="text-3xl font-bold text-gray-900">${{ book.price }}</span>
                <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-bold">موجود در انبار</span>
            </div>

            <div class="prose prose-indigo text-gray-600 mb-10 leading-relaxed">
                <h3 class="text-lg font-bold text-gray-800 mb-2">درباره این کتاب:</h3>
                <p>{{ book.description|linebreaks }}</p>
            </div>

            <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-100">
                <form action="{% url 'carts:add_cart' book.id %}" method="post" class="flex gap-4">
                    {% csrf_token %}
                    <div class="flex items-center border rounded-xl overflow-hidden">
                        <input type="number" name="quantity" value="1" min="1" class="w-16 px-3 py-2 text-center focus:outline-none bg-gray-50">
                    </div>
                    <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl font-bold transition flex items-center gap-2 shadow-lg shadow-indigo-200">
                        <i class="fa fa-shopping-basket"></i>
                        افزودن به سبد خرید
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}